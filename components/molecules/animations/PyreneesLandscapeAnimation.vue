<template>
  <div ref="scrollTarget" class="inline-flex">
    <span
      ref="mountainName"
      class="
        absolute
        transform
        right-8
        -z-1
        text-5xl
        xs:text-6xl
        sm:text-8xl
        md:text-9xl
        lg:text-11xl
        xl:text-12xl
        uppercase
        font-bold
        leading-none
        text-black
      "
      >Pyrénées</span
    >

    <svg
      class="w-full absolute z-0 inset-x-0 mb-32"
      viewBox="0 0 1440 584"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        ref="line"
        d="M-733 165.276L-731.71 166.013C-726.809 168.813 -720.971 169.469 -715.571 167.826L-698.662 162.68C-696.213 161.934 -693.562 162.835 -692.074 164.918V164.918C-689.992 167.832 -685.831 168.268 -683.191 165.848L-677.842 160.945C-674.921 158.267 -670.494 158.088 -667.366 160.521L-666.085 161.517C-663.38 163.621 -659.498 163.23 -657.268 160.627L-656.55 159.79C-654.847 157.802 -651.927 157.4 -649.748 158.852V158.852C-647.547 160.319 -644.594 159.891 -642.9 157.859L-642.299 157.138C-640.606 155.106 -637.813 154.367 -635.336 155.296L-630.652 157.052C-629.702 157.409 -628.796 157.873 -627.951 158.436L-625.716 159.926C-620.633 163.314 -614.305 164.26 -608.454 162.505L-607.487 162.214C-605.756 161.695 -604.102 160.949 -602.566 159.997L-572.909 141.589C-569.526 139.489 -566.828 136.449 -565.144 132.84L-542.237 83.7557C-541.298 81.7427 -540.038 79.8957 -538.506 78.2871L-480.582 17.4668C-471.864 8.313 -457.019 9.15412 -449.391 19.2341L-432.666 41.3349C-430.379 44.3566 -425.824 44.3133 -423.596 41.2487V41.2487C-421.034 37.7269 -415.619 38.3067 -413.861 42.2908L-400.349 72.9191C-399.199 75.526 -398.605 78.3441 -398.605 81.1934V113.808C-398.605 118.896 -396.712 123.803 -393.295 127.574L-372.995 149.974C-366.713 156.906 -355.908 157.172 -349.293 150.556V150.556C-344.311 145.574 -336.7 144.339 -330.399 147.49L-317.875 153.752C-310.186 157.596 -300.917 156.236 -294.657 150.344L-274.36 131.241C-266.976 124.291 -255.62 123.785 -247.646 130.05L-236.023 139.182C-229.701 144.15 -221.059 144.963 -213.922 141.262L-166.912 116.886C-160.687 113.658 -153.088 114.834 -148.129 119.793V119.793C-143.17 124.752 -135.571 125.927 -129.346 122.699L-84.6863 99.5427C-76.3999 95.2461 -66.2572 97.0898 -60.0131 104.028L-39.2681 127.078C-37.1413 129.441 -34.4376 131.212 -31.4214 132.217V132.217C-24.8192 134.418 -17.5402 132.699 -12.6192 127.778L45.2747 69.8845C52.3389 62.8203 63.4666 61.8772 71.6189 67.6518L74.6104 69.7707C82.5527 75.3965 93.3559 74.662 100.464 68.0129L110.693 58.4435C119.809 49.9155 134.367 51.4464 141.509 61.6842L154.053 79.6641C160.77 89.2916 174.184 91.323 183.451 84.1159L193.862 76.0184C197.984 72.8125 203.817 73.0487 207.666 76.5772V76.5772C212.331 80.8528 219.666 80.1711 223.463 75.109L248.875 41.2259C252.42 36.4994 258.591 34.5716 264.196 36.4399V36.4399C267.998 37.707 272.163 37.2497 275.599 35.1882L290.091 26.493C293.807 24.263 298.135 23.2685 302.452 23.6522L348.532 27.7482C351.719 28.0315 354.904 27.1894 357.535 25.3683L361.145 22.8688C365.931 19.5554 372.535 21.1411 375.294 26.2663V26.2663C377.5 30.3627 382.291 32.3328 386.74 30.9732L419.77 20.8809C423.33 19.7929 427.12 19.6952 430.732 20.5982L445.247 24.2271C448.902 25.1408 452.738 25.0297 456.334 23.906L461.223 22.3779C467.566 20.3959 474.476 21.6112 479.761 25.6383L490.625 33.9156C495.338 37.5065 501.608 38.3143 507.077 36.0354V36.0354C511.254 34.2952 515.959 34.3344 520.106 36.144L579.456 62.042C582.494 63.3678 585.808 63.937 589.115 63.7008L650.497 59.3164C653.993 59.0667 657.495 59.7175 660.668 61.2069L706.334 82.6419C713.776 86.1353 722.586 84.8442 728.713 79.3621L736.649 72.2612C740.685 68.6499 745.987 66.7826 751.395 67.0672L759.725 67.5056C764.609 67.7627 769.425 66.265 773.301 63.2829L793.392 47.8281C797.985 44.2955 803.858 42.8712 809.558 43.9077L835.232 48.5756C840.159 49.4715 845.244 48.5152 849.51 45.8903L852.705 43.9242C856.932 41.3226 862.229 41.184 866.587 43.561V43.561C870.945 45.9381 876.242 45.7995 880.47 43.1979L886.85 39.2717C888.913 38.002 891.552 38.1646 893.443 39.678V39.678C895.383 41.2298 898.101 41.3576 900.178 39.9947L928.704 21.2745C933.845 17.9009 940.691 18.8707 944.693 23.5392L954.839 35.377C957.264 38.2062 961.88 37.0336 962.661 33.3901V33.3901C963.448 29.7183 968.119 28.5661 970.523 31.4509L978.016 40.4429C981.07 44.1076 986.669 44.1969 989.838 40.6315V40.6315C992.3 37.8623 996.37 37.2068 999.576 39.0632L1017.01 49.156C1017.94 49.6959 1018.92 50.1614 1019.92 50.5482L1026.32 53.011C1031.88 55.1462 1038.08 54.7648 1043.33 51.9657L1052.48 47.0841C1053.68 46.4452 1054.94 45.927 1056.24 45.5369L1058.77 44.7783C1063.96 43.2213 1069.58 44.412 1073.7 47.9383V47.9383C1075.26 49.2781 1077.07 50.3019 1079.02 50.9529L1084.44 52.7587C1086.53 53.4555 1088.72 53.8107 1090.92 53.8107H1113.22H1119.13C1123.61 53.8107 1127.96 52.343 1131.53 49.6322L1158.06 29.4678L1161.59 27.4539C1164.96 25.5262 1169.1 25.5262 1172.47 27.4539V27.4539C1174.75 28.7534 1176.48 30.8237 1177.36 33.2904L1181.76 45.5901C1182.19 46.7897 1182.83 47.9005 1183.66 48.8676V48.8676C1187.27 53.0755 1193.53 53.725 1197.93 50.3459L1241.86 16.5495C1250.27 10.0807 1262.23 11.0974 1269.42 18.8934L1272.09 21.7805L1295.16 44.851C1296.85 46.5404 1298.82 47.9215 1300.99 48.9319L1316.93 56.3731L1321.56 58.3546C1329.54 61.7746 1338.8 59.7967 1344.69 53.4171L1348.27 49.541C1349.58 48.1239 1350.68 46.5292 1351.54 44.8043L1355.68 36.5317C1357.73 32.4243 1362.4 30.3375 1366.83 31.5458V31.5458C1370.72 32.6068 1374.86 31.1325 1377.21 27.851L1383.85 18.5453C1385.32 16.4845 1387.41 14.9431 1389.81 14.1423V14.1423C1394.53 12.5699 1399.73 14.0739 1402.88 17.9221L1409.18 25.6241L1438.06 60.2802C1440.13 62.765 1442.76 64.7246 1445.73 65.9987L1461.82 72.8938C1465.71 74.5627 1470.2 74.0246 1473.59 71.4826V71.4826C1478.99 67.4366 1486.67 68.7045 1490.47 74.2698L1492.09 76.631C1496.57 83.1744 1505.45 84.9423 1512.09 80.6113L1529.61 69.1852L1552.99 49.3124C1554.47 48.0551 1556.2 47.1288 1558.07 46.5954V46.5954C1561.96 45.4846 1566.14 46.1595 1569.48 48.4373L1592.39 64.0604L1597.61 68.535C1604.88 74.7657 1615.65 74.6214 1622.75 68.1981V68.1981C1630.68 61.0173 1642.98 61.7976 1649.95 69.9239L1658.98 80.4655C1659.86 81.4842 1660.83 82.4148 1661.88 83.2437L1672.66 91.7102C1676.27 94.548 1680.73 96.0905 1685.32 96.0905H1689.85C1693.97 96.0905 1697.99 94.8492 1701.39 92.5283L1722.9 77.868C1723.87 77.2058 1724.77 76.454 1725.61 75.6227L1726.06 75.1636C1732.98 68.2509 1744.12 68.0447 1751.28 74.6967V74.6967C1754.57 77.7473 1756.61 81.9046 1757.02 86.3695L1757.62 92.9701C1757.65 93.3401 1757.74 93.7034 1757.88 94.0484V94.0484C1758.95 96.7265 1762.48 97.3111 1764.35 95.1211L1783.81 72.4186C1791.75 63.1645 1805.95 62.8342 1814.31 71.7098L1816.67 74.2174C1818.32 75.9736 1820.27 77.4244 1822.43 78.503L1833.36 83.9677C1835.83 85.2037 1838.52 85.9271 1841.28 86.0943L1874.92 88.1329C1877.86 88.3111 1880.73 89.1208 1883.33 90.507L1898.6 98.653L1916.62 109.915C1924.2 114.652 1933.97 113.932 1940.78 108.136L1949.53 100.676C1957.67 93.745 1969.77 94.228 1977.32 101.785L1980.79 105.248C1983.18 107.647 1986.14 109.413 1989.39 110.388L1992.3 111.261C1995.55 112.236 1998.51 114.002 2000.91 116.401L2002.23 117.722C2005.64 121.129 2010.13 123.227 2014.93 123.648L2080.53 129.402H2097.21C2102.15 129.402 2106.93 127.615 2110.66 124.372L2133.12 104.837C2133.93 104.132 2134.8 103.492 2135.71 102.922L2145.69 96.6824C2151.42 93.1039 2158.54 92.5743 2164.73 95.2664L2181.01 102.342C2183.19 103.292 2185.53 103.854 2187.9 104.002L2215.34 105.717C2221.63 106.11 2227.75 103.588 2231.94 98.8769L2286.81 37.155V37.155C2289.66 34.2999 2294.27 34.2301 2297.21 36.9975L2312 50.9231C2313.14 51.9906 2314.15 53.1838 2315.01 54.4797L2330.73 78.0557C2331.34 78.9736 2331.88 79.9395 2332.33 80.9438L2337.78 92.9306C2337.96 93.3283 2338.18 93.7108 2338.42 94.0743L2339.27 95.3594C2341.39 98.5397 2345.75 99.2859 2348.81 96.9926V96.9926C2351.46 95.0047 2355.17 95.2683 2357.51 97.6111L2361.12 101.215L2397.07 134.688C2397.87 135.434 2398.61 136.242 2399.28 137.105L2403.36 142.346C2405.73 145.395 2409.64 146.805 2413.41 145.967V145.967C2416.75 145.225 2420.23 146.24 2422.65 148.656L2430.31 156.319C2431.16 157.164 2432.07 157.933 2433.05 158.618L2438.52 162.448C2442.27 165.068 2446.93 166.013 2451.4 165.055L2452.34 164.854C2458.37 163.562 2464.58 166.083 2468 171.213V171.213C2469.33 173.205 2471.11 174.851 2473.2 176.014L2478.38 178.887C2480.48 180.054 2482.76 180.842 2485.13 181.216L2500.62 183.662C2504.08 184.207 2507.34 185.629 2510.09 187.791L2519.23 194.977C2522.24 197.337 2525.84 198.812 2529.64 199.228C2537.54 200.094 2547.37 201.15 2548.17 201.15C2549.2 201.15 2569.95 213.107 2580.2 219.086L2616.05 238.865C2616.92 239.345 2617.82 239.761 2618.75 240.11L2633.66 245.701C2636.43 246.737 2639.38 247.164 2642.32 246.954L2686.26 243.815C2689.67 243.572 2692.78 241.765 2694.67 238.922V238.922C2698.46 233.235 2706.45 232.318 2711.44 236.997L2738.28 262.214C2742.08 265.785 2747.1 267.772 2752.32 267.772H2764.64C2768.85 267.772 2772.95 269.066 2776.4 271.478L2781.97 275.382C2783.26 276.285 2784.65 277.036 2786.11 277.621L2792.16 280.038C2795.16 281.239 2798.41 281.713 2801.63 281.42L2835.06 278.381C2837.67 278.144 2840.3 278.409 2842.8 279.161L2851.82 281.866"
        stroke="black"
        stroke-width="3.12483"
        stroke-dasharray="2650"
      />
      <path
        d="M-698.662 162.68L-722.053 169.798C-723.316 170.183 -724.681 170.029 -725.827 169.374C-729.023 167.548 -733 169.856 -733 173.537V572.501C-733 583.822 -723.822 593 -712.501 593H2831.32C2842.64 593 2851.82 583.822 2851.82 572.501V292.482C2851.82 286.181 2847.68 280.626 2841.65 278.815C2839.9 278.291 2838.07 278.107 2836.26 278.272L2801.63 281.42C2798.41 281.713 2795.16 281.239 2792.16 280.038L2786.11 277.621C2784.65 277.036 2783.26 276.285 2781.97 275.382L2776.4 271.478C2772.95 269.066 2768.85 267.772 2764.64 267.772H2752.31C2747.1 267.772 2742.08 265.785 2738.28 262.214L2711.44 236.997C2706.45 232.318 2698.46 233.235 2694.67 238.922C2692.78 241.765 2689.67 243.572 2686.26 243.815L2642.32 246.954C2639.38 247.164 2636.43 246.737 2633.66 245.701L2618.75 240.11C2617.82 239.761 2616.92 239.345 2616.05 238.865L2580.2 219.086C2569.95 213.107 2549.2 201.15 2548.17 201.15C2547.37 201.15 2537.54 200.094 2529.64 199.228C2525.84 198.812 2522.24 197.337 2519.23 194.977L2510.09 187.791C2507.34 185.629 2504.08 184.207 2500.62 183.662L2485.13 181.216C2482.76 180.842 2480.48 180.054 2478.38 178.887L2473.2 176.014C2471.11 174.851 2469.33 173.205 2468 171.213C2464.58 166.083 2458.37 163.562 2452.34 164.854L2451.4 165.055C2446.93 166.013 2442.27 165.068 2438.52 162.448L2433.05 158.618C2432.07 157.933 2431.16 157.164 2430.31 156.319L2422.65 148.656C2420.23 146.24 2416.75 145.225 2413.41 145.967C2409.64 146.805 2405.73 145.395 2403.36 142.346L2399.28 137.105C2398.61 136.242 2397.87 135.434 2397.07 134.688L2361.12 101.215L2357.51 97.6111C2355.17 95.2683 2351.46 95.0047 2348.81 96.9926C2345.75 99.2859 2341.4 98.5397 2339.27 95.3594L2338.42 94.0743C2338.18 93.7108 2337.96 93.3283 2337.78 92.9305L2332.33 80.9438C2331.88 79.9395 2331.34 78.9736 2330.73 78.0557L2315.01 54.4797C2314.15 53.1838 2313.14 51.9906 2312 50.9231L2297.21 36.9975C2294.27 34.2301 2289.66 34.2999 2286.81 37.155L2231.94 98.8769C2227.75 103.588 2221.63 106.11 2215.34 105.717L2187.9 104.002C2185.52 103.854 2183.19 103.292 2181.01 102.342L2164.73 95.2664C2158.54 92.5743 2151.42 93.1039 2145.69 96.6824L2135.71 102.922C2134.8 103.492 2133.93 104.132 2133.12 104.837L2110.66 124.372C2106.93 127.615 2102.15 129.402 2097.21 129.402H2080.53L2014.93 123.648C2010.13 123.227 2005.64 121.129 2002.23 117.722L2000.91 116.401C1998.51 114.002 1995.55 112.236 1992.3 111.261L1989.39 110.388C1986.14 109.413 1983.18 107.647 1980.79 105.248L1977.32 101.785C1969.77 94.228 1957.67 93.745 1949.53 100.676L1940.78 108.136C1933.97 113.932 1924.2 114.652 1916.62 109.915L1898.6 98.653L1883.33 90.507C1880.73 89.1208 1877.86 88.3111 1874.92 88.1329L1841.28 86.0943C1838.52 85.9271 1835.83 85.2037 1833.36 83.9677L1822.43 78.503C1820.27 77.4244 1818.32 75.9736 1816.67 74.2174L1814.31 71.7098C1805.95 62.8342 1791.75 63.1645 1783.81 72.4186L1764.35 95.1211C1762.48 97.3111 1758.95 96.7265 1757.88 94.0484C1757.74 93.7034 1757.65 93.3401 1757.62 92.9701L1757.02 86.3695C1756.61 81.9046 1754.57 77.7473 1751.28 74.6967C1744.12 68.0447 1732.98 68.2509 1726.06 75.1636L1725.61 75.6227C1724.77 76.454 1723.87 77.2058 1722.9 77.868L1701.39 92.5283C1697.99 94.8492 1693.97 96.0905 1689.85 96.0905H1685.32C1680.73 96.0905 1676.27 94.548 1672.66 91.7102L1661.88 83.2437C1660.83 82.4148 1659.86 81.4842 1658.98 80.4655L1649.95 69.9239C1642.98 61.7976 1630.68 61.0173 1622.75 68.1981C1615.65 74.6214 1604.88 74.7657 1597.61 68.535L1592.39 64.0604L1569.48 48.4373C1566.14 46.1595 1561.96 45.4846 1558.07 46.5954C1556.2 47.1288 1554.47 48.0551 1552.99 49.3124L1529.61 69.1852L1512.09 80.6113C1505.45 84.9423 1496.57 83.1744 1492.09 76.631L1490.47 74.2698C1486.67 68.7045 1478.99 67.4366 1473.59 71.4826C1470.2 74.0246 1465.71 74.5627 1461.82 72.8938L1445.73 65.9987C1442.76 64.7246 1440.13 62.765 1438.06 60.2802L1409.18 25.6241L1402.88 17.9221C1399.73 14.0739 1394.53 12.5699 1389.81 14.1423C1387.41 14.9431 1385.32 16.4845 1383.85 18.5453L1377.21 27.851C1374.86 31.1325 1370.72 32.6068 1366.83 31.5458C1362.4 30.3375 1357.73 32.4243 1355.68 36.5317L1351.54 44.8043C1350.68 46.5292 1349.58 48.1239 1348.27 49.541L1344.69 53.4171C1338.8 59.7967 1329.54 61.7746 1321.56 58.3546L1316.93 56.3731L1300.99 48.9319C1298.82 47.9215 1296.85 46.5404 1295.16 44.851L1272.09 21.7805L1269.42 18.8934C1262.23 11.0974 1250.27 10.0807 1241.86 16.5495L1197.93 50.3459C1193.53 53.725 1187.27 53.0755 1183.66 48.8676C1182.83 47.9005 1182.19 46.7897 1181.76 45.5901L1177.36 33.2904C1176.48 30.8237 1174.75 28.7534 1172.47 27.4539C1169.1 25.5262 1164.96 25.5262 1161.59 27.4539L1158.06 29.4678L1131.53 49.6322C1127.96 52.343 1123.61 53.8107 1119.13 53.8107H1113.22H1090.92C1088.72 53.8107 1086.53 53.4555 1084.44 52.7587L1079.02 50.9529C1077.07 50.3019 1075.26 49.2781 1073.7 47.9383C1069.58 44.412 1063.96 43.2213 1058.77 44.7783L1056.24 45.5369C1054.94 45.927 1053.68 46.4452 1052.48 47.0841L1043.33 51.9657C1038.08 54.7648 1031.88 55.1463 1026.32 53.011L1019.92 50.5482C1018.92 50.1614 1017.94 49.6959 1017.01 49.156L999.576 39.0632C996.37 37.2068 992.3 37.8623 989.838 40.6315C986.669 44.1969 981.07 44.1076 978.016 40.4429L970.523 31.4509C968.119 28.5661 963.448 29.7183 962.661 33.3901C961.88 37.0336 957.264 38.2062 954.839 35.377L944.693 23.5392C940.691 18.8707 933.844 17.9009 928.704 21.2745L900.178 39.9947C898.101 41.3576 895.383 41.2298 893.443 39.678C891.552 38.1646 888.913 38.002 886.85 39.2717L880.47 43.1979C876.242 45.7995 870.945 45.9381 866.587 43.561C862.229 41.184 856.932 41.3226 852.705 43.9242L849.51 45.8903C845.244 48.5152 840.159 49.4715 835.232 48.5756L809.558 43.9077C803.858 42.8712 797.985 44.2955 793.392 47.8281L773.301 63.2829C769.425 66.265 764.609 67.7627 759.725 67.5056L751.395 67.0672C745.987 66.7826 740.685 68.6499 736.649 72.2612L728.713 79.3621C722.586 84.8442 713.776 86.1353 706.333 82.6419L660.668 61.2069C657.495 59.7175 653.993 59.0667 650.497 59.3164L589.115 63.7008C585.808 63.937 582.494 63.3678 579.456 62.042L520.106 36.144C515.959 34.3344 511.254 34.2952 507.077 36.0354C501.608 38.3143 495.338 37.5065 490.625 33.9156L479.761 25.6383C474.476 21.6112 467.566 20.3959 461.223 22.3779L456.334 23.906C452.738 25.0297 448.902 25.1408 445.247 24.2271L430.732 20.5982C427.12 19.6952 423.33 19.7929 419.77 20.8809L386.74 30.9732C382.291 32.3328 377.5 30.3627 375.294 26.2663C372.535 21.1411 365.931 19.5554 361.145 22.8688L357.535 25.3683C354.904 27.1894 351.719 28.0315 348.532 27.7482L302.453 23.6522C298.135 23.2685 293.807 24.263 290.091 26.493L275.599 35.1882C272.163 37.2497 267.998 37.707 264.196 36.4399C258.591 34.5716 252.42 36.4994 248.875 41.2259L223.463 75.109C219.666 80.1711 212.331 80.8528 207.666 76.5772C203.817 73.0487 197.984 72.8126 193.862 76.0184L183.451 84.1159C174.185 91.323 160.77 89.2916 154.053 79.6641L141.509 61.6842C134.367 51.4464 119.809 49.9155 110.693 58.4435L100.464 68.0129C93.3559 74.662 82.5527 75.3965 74.6104 69.7707L71.6189 67.6518C63.4666 61.8772 52.3389 62.8203 45.2747 69.8845L-12.6192 127.778C-17.5402 132.699 -24.8192 134.418 -31.4214 132.217C-34.4376 131.212 -37.1412 129.441 -39.2681 127.078L-60.0131 104.028C-66.2572 97.0898 -76.3999 95.2461 -84.6863 99.5427L-129.346 122.699C-135.571 125.927 -143.17 124.752 -148.129 119.793C-153.088 114.834 -160.687 113.658 -166.912 116.886L-213.922 141.262C-221.059 144.963 -229.701 144.15 -236.023 139.182L-247.646 130.05C-255.62 123.785 -266.976 124.291 -274.36 131.241L-294.657 150.344C-300.917 156.236 -310.186 157.596 -317.875 153.752L-330.399 147.49C-336.7 144.339 -344.311 145.574 -349.293 150.556C-355.908 157.172 -366.713 156.906 -372.995 149.974L-393.295 127.574C-396.712 123.803 -398.605 118.896 -398.605 113.808V81.1934C-398.605 78.3441 -399.199 75.526 -400.349 72.9191L-413.861 42.2908C-415.619 38.3067 -421.034 37.7269 -423.596 41.2487C-425.824 44.3133 -430.379 44.3566 -432.666 41.3349L-449.391 19.2341C-457.019 9.15412 -471.864 8.313 -480.582 17.4668L-538.506 78.2871C-540.038 79.8957 -541.298 81.7427 -542.237 83.7557L-565.144 132.84C-566.828 136.449 -569.526 139.489 -572.909 141.589L-602.566 159.997C-604.102 160.949 -605.756 161.695 -607.487 162.214L-608.454 162.505C-614.305 164.26 -620.633 163.314 -625.716 159.926L-627.951 158.436C-628.796 157.873 -629.702 157.409 -630.652 157.052L-635.336 155.296C-637.813 154.367 -640.606 155.106 -642.299 157.138L-642.9 157.859C-644.594 159.891 -647.547 160.319 -649.748 158.852C-651.927 157.4 -654.847 157.802 -656.55 159.79L-657.268 160.627C-659.498 163.23 -663.38 163.621 -666.085 161.517L-667.366 160.521C-670.494 158.088 -674.921 158.267 -677.842 160.945L-683.191 165.848C-685.831 168.268 -689.992 167.832 -692.074 164.918C-693.562 162.835 -696.213 161.934 -698.662 162.68Z"
        fill="url(#paint0_linear_1466_2575)"
      />
      <defs>
        <linearGradient
          id="paint0_linear_1466_2575"
          x1="1059.41"
          y1="0"
          x2="1059.41"
          y2="593"
          gradientUnits="userSpaceOnUse"
        >
          <stop offset="0.337955" stop-color="#F9F9F9" />
          <stop offset="1" stop-color="#F9F9F9" stop-opacity="0" />
        </linearGradient>
      </defs>
    </svg>
  </div>
</template>

<script>
import {
  defineComponent,
  ref,
  onBeforeUnmount,
  onMounted,
} from '@nuxtjs/composition-api'
import { useIntersectionObserver } from '@vueuse/core'
import { useMotion } from '@vueuse/motion'

export default defineComponent({
  setup() {
    const scrollTarget = ref()
    const mountainName = ref()
    const line = ref()
    const isVisible = ref(false)

    const mountainNameInstance = ref()

    const { stop } = useIntersectionObserver(
      scrollTarget,
      ([{ isIntersecting }]) => {
        if (!isVisible.value && isIntersecting) {
          isVisible.value = true
          stop()

          lineInstance.set('initial')
          lineInstance.apply('in')

          mountainNameInstance.value.apply('in')
        }
      },
    )

    onMounted(() => {
      mountainNameInstance.value = useMotion(mountainName, {
        initial: {
          y: 0,
          opacity: 0,
        },
        in: {
          y: -(mountainName.value?.clientHeight / 2),
          opacity: 0.5,
          transition: {
            delay: 600,
            duration: 600,
            ease: 'circOut',
          },
        },
      })

      mountainNameInstance.value.apply('initial')
    })

    onBeforeUnmount(() => {
      stop()
    })

    const lineInstance = useMotion(line, {
      initial: {
        strokeDashoffset: 1680,
      },
      in: {
        strokeDashoffset: 0,
        transition: {
          duration: 2000,
          ease: 'circOut',
        },
      },
    })

    lineInstance.apply('initial')

    return { scrollTarget, isVisible, line, mountainName }
  },
})
</script>
